[{"data":1,"prerenderedAt":560},["ShallowReactive",2],{"content-query-6vfLODdKKf":3},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"body":11,"_type":554,"_id":555,"_source":556,"_file":557,"_stem":558,"_extension":559},"/tech-dev/2024/08/26/cdn-content-delivery-network","26",false,"","內容傳遞網路（CDN）的運作與應用場景探討 | Lucas's Blog","2024-08-26 介紹的CDN架構、功能以及應用場景​，以及實作範例。",{"type":12,"children":13,"toc":548},"root",[14,30,35,39,50,53,58,63,68,73,81,93,98,113,123,126,131,136,141,146,151,174,179,182,193,198,203,208,213,218,223,228,233,238,261,264,272,275,284,289,294,299,302,313,324,335,340,345,350,353,364,375,386,397,402,407,415,426,437,448,453,458,463,466,477,482,487,492,497,502,507,512,523,528,533,538,543],{"type":15,"tag":16,"props":17,"children":19},"element","h1",{"id":18},"內容傳遞網路cdn的運作與應用場景探討",[20],{"type":15,"tag":21,"props":22,"children":26},"span",{"className":23},[24,25],"text-xl","font-bold",[27],{"type":28,"value":29},"text","內容傳遞網路（CDN）的運作與應用場景探討",{"type":15,"tag":31,"props":32,"children":34},"keywords",{"keywords":33},"內容傳遞網路,CDN 優勢, 網頁加速, 伺服器穩定性,邊緣節點",[],{"type":15,"tag":36,"props":37,"children":38},"br",{},[],{"type":15,"tag":40,"props":41,"children":43},"h2",{"id":42},"傳統網站架設",[44],{"type":15,"tag":21,"props":45,"children":48},{"className":46},[47,25],"text-lg",[49],{"type":28,"value":42},{"type":15,"tag":36,"props":51,"children":52},{},[],{"type":15,"tag":54,"props":55,"children":56},"p",{},[57],{"type":28,"value":42},{"type":15,"tag":54,"props":59,"children":60},{},[61],{"type":28,"value":62},"是把網站內容放到一台Server",{"type":15,"tag":54,"props":64,"children":65},{},[66],{"type":28,"value":67},"然後使用者在瀏覽器上點選網址後",{"type":15,"tag":54,"props":69,"children":70},{},[71],{"type":28,"value":72},"會連到DNS把網址轉換成該網站的IP位置",{"type":15,"tag":54,"props":74,"children":75},{},[76,78],{"type":28,"value":77},"然後再由瀏覽器直接連線到那台Server取得網站內容資料\n",{"type":15,"tag":36,"props":79,"children":80},{},[],{"type":15,"tag":54,"props":82,"children":83},{},[84,90],{"type":15,"tag":85,"props":86,"children":89},"img",{"alt":87,"src":88},"傳統網站運作流程","https://cdn.lucas-chen.website/2024/08/26/01.png",[],{"type":15,"tag":36,"props":91,"children":92},{},[],{"type":15,"tag":54,"props":94,"children":95},{},[96],{"type":28,"value":97},"那這個方式會有以下缺點",{"type":15,"tag":99,"props":100,"children":101},"ul",{},[102,108],{"type":15,"tag":103,"props":104,"children":105},"li",{},[106],{"type":28,"value":107},"離Server 越遠 速度會越慢 (特別是全球性網站)",{"type":15,"tag":103,"props":109,"children":110},{},[111],{"type":28,"value":112},"Server 穩定性比較差 (流量大，同時連線同一台Server，讓Server當機的機會變大)",{"type":15,"tag":40,"props":114,"children":116},{"id":115},"cdn介紹",[117],{"type":15,"tag":21,"props":118,"children":120},{"className":119},[47,25],[121],{"type":28,"value":122},"CDN介紹",{"type":15,"tag":36,"props":124,"children":125},{},[],{"type":15,"tag":54,"props":127,"children":128},{},[129],{"type":28,"value":130},"所以就衍生出了CDN",{"type":15,"tag":54,"props":132,"children":133},{},[134],{"type":28,"value":135},"CDN 全名 內容傳遞網路 – Content Delivery Network",{"type":15,"tag":54,"props":137,"children":138},{},[139],{"type":28,"value":140},"可以將網站內容 部署到不同位置的邊緣節點",{"type":15,"tag":54,"props":142,"children":143},{},[144],{"type":28,"value":145},"不同地區的用戶可以就近存取伺服器並取得內容",{"type":15,"tag":54,"props":147,"children":148},{},[149],{"type":28,"value":150},"會有以下優點",{"type":15,"tag":99,"props":152,"children":153},{},[154,159,164,169],{"type":15,"tag":103,"props":155,"children":156},{},[157],{"type":28,"value":158},"實現加快載入速度 (物理上的距離降低)",{"type":15,"tag":103,"props":160,"children":161},{},[162],{"type":28,"value":163},"降低主機負擔 (都存取最近的CDN server，原本的Server 負載降低)",{"type":15,"tag":103,"props":165,"children":166},{},[167],{"type":28,"value":168},"可靠性提升 (多台cdn server就可以降低當機導致網站無法使用的風險)",{"type":15,"tag":103,"props":170,"children":171},{},[172],{"type":28,"value":173},"提升用戶體驗 (連線速度提升，瀏覽網站速度變快，且不容易網站掛掉)",{"type":15,"tag":54,"props":175,"children":176},{},[177],{"type":28,"value":178},"CDN 運作流程圖：",{"type":15,"tag":36,"props":180,"children":181},{},[],{"type":15,"tag":54,"props":183,"children":184},{},[185,190],{"type":15,"tag":85,"props":186,"children":189},{"alt":187,"src":188},"CDN 網站運作流程","https://cdn.lucas-chen.website/2024/08/26/02.png",[],{"type":15,"tag":36,"props":191,"children":192},{},[],{"type":15,"tag":54,"props":194,"children":195},{},[196],{"type":28,"value":197},"將網站內容放到 主要存放資料的Server",{"type":15,"tag":54,"props":199,"children":200},{},[201],{"type":28,"value":202},"並設定完CDN後",{"type":15,"tag":54,"props":204,"children":205},{},[206],{"type":28,"value":207},"使用者連線到這個網站",{"type":15,"tag":54,"props":209,"children":210},{},[211],{"type":28,"value":212},"會先連到DNS",{"type":15,"tag":54,"props":214,"children":215},{},[216],{"type":28,"value":217},"DNS 再轉派發到 CDN DNS",{"type":15,"tag":54,"props":219,"children":220},{},[221],{"type":28,"value":222},"CDN DNS再根據使用者的位置不同",{"type":15,"tag":54,"props":224,"children":225},{},[226],{"type":28,"value":227},"回傳最靠近使用者的 CDN 邊緣伺服器 IP",{"type":15,"tag":54,"props":229,"children":230},{},[231],{"type":28,"value":232},"然後使用者在連線到最靠近使用者的 CDN 邊緣伺服器 取得網站資料",{"type":15,"tag":54,"props":234,"children":235},{},[236],{"type":28,"value":237},"CDN 簡易組成如下",{"type":15,"tag":99,"props":239,"children":240},{},[241,246,251,256],{"type":15,"tag":103,"props":242,"children":243},{},[244],{"type":28,"value":245},"主要存放資料的Server (Origin Server)",{"type":15,"tag":103,"props":247,"children":248},{},[249],{"type":28,"value":250},"DNS",{"type":15,"tag":103,"props":252,"children":253},{},[254],{"type":28,"value":255},"CDN DNS",{"type":15,"tag":103,"props":257,"children":258},{},[259],{"type":28,"value":260},"CDN 邊緣伺服器 (存放在不同國家地區的CDN Server)",{"type":15,"tag":36,"props":262,"children":263},{},[],{"type":15,"tag":54,"props":265,"children":266},{},[267],{"type":15,"tag":85,"props":268,"children":271},{"alt":269,"src":270},"CDN 組成","https://cdn.lucas-chen.website/2024/08/26/03.png",[],{"type":15,"tag":36,"props":273,"children":274},{},[],{"type":15,"tag":40,"props":276,"children":278},{"id":277},"實戰演練",[279],{"type":15,"tag":21,"props":280,"children":282},{"className":281},[47,25],[283],{"type":28,"value":277},{"type":15,"tag":54,"props":285,"children":286},{},[287],{"type":28,"value":288},"我先將測試網站放了一堆GIF 檔案比較大的圖片",{"type":15,"tag":54,"props":290,"children":291},{},[292],{"type":28,"value":293},"並且放到距離台灣很遠的地方",{"type":15,"tag":54,"props":295,"children":296},{},[297],{"type":28,"value":298},"然後看他第一次載入網站的速度",{"type":15,"tag":36,"props":300,"children":301},{},[],{"type":15,"tag":54,"props":303,"children":304},{},[305,310],{"type":15,"tag":85,"props":306,"children":309},{"alt":307,"src":308},"CDN 實戰演練1","https://cdn.lucas-chen.website/2024/08/26/04.png",[],{"type":15,"tag":36,"props":311,"children":312},{},[],{"type":15,"tag":54,"props":314,"children":315},{},[316,321],{"type":15,"tag":85,"props":317,"children":320},{"alt":318,"src":319},"CDN 實戰演練2","https://cdn.lucas-chen.website/2024/08/26/05.png",[],{"type":15,"tag":36,"props":322,"children":323},{},[],{"type":15,"tag":54,"props":325,"children":326},{},[327,332],{"type":15,"tag":85,"props":328,"children":331},{"alt":329,"src":330},"CDN 實戰演練3","https://cdn.lucas-chen.website/2024/08/26/06.png",[],{"type":15,"tag":36,"props":333,"children":334},{},[],{"type":15,"tag":54,"props":336,"children":337},{},[338],{"type":28,"value":339},"發現到載入圖片的速度將近3秒",{"type":15,"tag":54,"props":341,"children":342},{},[343],{"type":28,"value":344},"然後開始串上CDN",{"type":15,"tag":54,"props":346,"children":347},{},[348],{"type":28,"value":349},"我使用 Cloudflare 這個CDN服務商，他有免費方案讓我使用",{"type":15,"tag":36,"props":351,"children":352},{},[],{"type":15,"tag":54,"props":354,"children":355},{},[356,361],{"type":15,"tag":85,"props":357,"children":360},{"alt":358,"src":359},"CDN 實戰演練4","https://cdn.lucas-chen.website/2024/08/26/07.png",[],{"type":15,"tag":36,"props":362,"children":363},{},[],{"type":15,"tag":54,"props":365,"children":366},{},[367,372],{"type":15,"tag":85,"props":368,"children":371},{"alt":369,"src":370},"CDN 實戰演練5","https://cdn.lucas-chen.website/2024/08/26/08.png",[],{"type":15,"tag":36,"props":373,"children":374},{},[],{"type":15,"tag":54,"props":376,"children":377},{},[378,383],{"type":15,"tag":85,"props":379,"children":382},{"alt":380,"src":381},"CDN 實戰演練6","https://cdn.lucas-chen.website/2024/08/26/09.png",[],{"type":15,"tag":36,"props":384,"children":385},{},[],{"type":15,"tag":54,"props":387,"children":388},{},[389,394],{"type":15,"tag":85,"props":390,"children":393},{"alt":391,"src":392},"CDN 實戰演練7","https://cdn.lucas-chen.website/2024/08/26/10.png",[],{"type":15,"tag":36,"props":395,"children":396},{},[],{"type":15,"tag":54,"props":398,"children":399},{},[400],{"type":28,"value":401},"選完後，會有兩個 主要的 CDN DNS 需要設定在你的域名代理商",{"type":15,"tag":54,"props":403,"children":404},{},[405],{"type":28,"value":406},"我是在Gandi購買的網域",{"type":15,"tag":54,"props":408,"children":409},{},[410,412],{"type":28,"value":411},"所以我要去Gandi 設定網域 名稱伺服器\n",{"type":15,"tag":36,"props":413,"children":414},{},[],{"type":15,"tag":54,"props":416,"children":417},{},[418,423],{"type":15,"tag":85,"props":419,"children":422},{"alt":420,"src":421},"CDN 實戰演練8","https://cdn.lucas-chen.website/2024/08/26/11.png",[],{"type":15,"tag":36,"props":424,"children":425},{},[],{"type":15,"tag":54,"props":427,"children":428},{},[429,434],{"type":15,"tag":85,"props":430,"children":433},{"alt":431,"src":432},"CDN 實戰演練9","https://cdn.lucas-chen.website/2024/08/26/12.png",[],{"type":15,"tag":36,"props":435,"children":436},{},[],{"type":15,"tag":54,"props":438,"children":439},{},[440,445],{"type":15,"tag":85,"props":441,"children":444},{"alt":442,"src":443},"CDN 實戰演練10","https://cdn.lucas-chen.website/2024/08/26/13.png",[],{"type":15,"tag":36,"props":446,"children":447},{},[],{"type":15,"tag":54,"props":449,"children":450},{},[451],{"type":28,"value":452},"設定完後就是這樣",{"type":15,"tag":54,"props":454,"children":455},{},[456],{"type":28,"value":457},"掛載CDN 服務器後",{"type":15,"tag":54,"props":459,"children":460},{},[461],{"type":28,"value":462},"就可以看看有了CDN 速度會變多快",{"type":15,"tag":36,"props":464,"children":465},{},[],{"type":15,"tag":54,"props":467,"children":468},{},[469,474],{"type":15,"tag":85,"props":470,"children":473},{"alt":471,"src":472},"CDN 實戰演練11","https://cdn.lucas-chen.website/2024/08/26/14.png",[],{"type":15,"tag":36,"props":475,"children":476},{},[],{"type":15,"tag":54,"props":478,"children":479},{},[480],{"type":28,"value":481},"相較於沒掛載CDN 服務之前 每張圖需要快3秒",{"type":15,"tag":54,"props":483,"children":484},{},[485],{"type":28,"value":486},"掛載後，讀取網站 每張圖片不到 200毫秒",{"type":15,"tag":54,"props":488,"children":489},{},[490],{"type":28,"value":491},"速度上快很多",{"type":15,"tag":54,"props":493,"children":494},{},[495],{"type":28,"value":496},"那我要怎麼確認網站有串上CDN呢",{"type":15,"tag":54,"props":498,"children":499},{},[500],{"type":28,"value":501},"可以直接在網址後面加上 cdn-cgi/trace",{"type":15,"tag":54,"props":503,"children":504},{},[505],{"type":28,"value":506},"可以看到colo=KHH 代表者是連到高雄的cdn edge server",{"type":15,"tag":54,"props":508,"children":509},{},[510],{"type":28,"value":511},"台北 連高雄 速度上就真的可以加快很多呢！",{"type":15,"tag":54,"props":513,"children":514},{},[515,520],{"type":15,"tag":85,"props":516,"children":519},{"alt":517,"src":518},"CDN 實戰演練12","https://cdn.lucas-chen.website/2024/08/26/15.png",[],{"type":15,"tag":36,"props":521,"children":522},{},[],{"type":15,"tag":54,"props":524,"children":525},{},[526],{"type":28,"value":527},"不只網站可以用CDN 加快",{"type":15,"tag":54,"props":529,"children":530},{},[531],{"type":28,"value":532},"還有影片串流 跟  軟體安裝檔案  或是 遊戲的圖片影片加速",{"type":15,"tag":54,"props":534,"children":535},{},[536],{"type":28,"value":537},"都是使用CDN 來讓速度提升，使用者體驗變好的應用",{"type":15,"tag":54,"props":539,"children":540},{},[541],{"type":28,"value":542},"如果有什麼不足的部分，歡迎補充喔",{"type":15,"tag":54,"props":544,"children":545},{},[546],{"type":28,"value":547},"謝謝大家！",{"title":8,"searchDepth":549,"depth":549,"links":550},2,[551,552,553],{"id":42,"depth":549,"text":42},{"id":115,"depth":549,"text":122},{"id":277,"depth":549,"text":277},"markdown","content:tech-dev:2024:08:26:cdn-content-delivery-network.md","content","tech-dev/2024/08/26/cdn-content-delivery-network.md","tech-dev/2024/08/26/cdn-content-delivery-network","md",1724750930460]