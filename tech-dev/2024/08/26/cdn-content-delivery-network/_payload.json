[{"data":1,"prerenderedAt":559},["ShallowReactive",2],{"content-query-Ps0cK9QtZu":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":553,"_id":554,"_source":555,"_file":556,"_stem":557,"_extension":558},"/tech-dev/2024/08/26/cdn-content-delivery-network","26",false,"","內容傳遞網路（CDN）的運作與應用場景探討 | Lucas's Blog","2024-08-26 介紹的CDN架構、功能以及應用場景​，以及實作範例。",{"type":11,"children":12,"toc":547},"root",[13,29,34,38,49,52,57,62,67,72,80,92,97,112,122,125,130,135,140,145,150,173,178,181,192,197,202,207,212,217,222,227,232,237,260,263,271,274,283,288,293,298,301,312,323,334,339,344,349,352,363,374,385,396,401,406,414,425,436,447,452,457,462,465,476,481,486,491,496,501,506,511,522,527,532,537,542],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"內容傳遞網路cdn的運作與應用場景探討",[19],{"type":14,"tag":20,"props":21,"children":25},"span",{"className":22},[23,24],"text-xl","font-bold",[26],{"type":27,"value":28},"text","內容傳遞網路（CDN）的運作與應用場景探討",{"type":14,"tag":30,"props":31,"children":33},"keywords",{"keywords":32},"內容傳遞網路,CDN 優勢, 網頁加速, 伺服器穩定性,邊緣節點",[],{"type":14,"tag":35,"props":36,"children":37},"br",{},[],{"type":14,"tag":39,"props":40,"children":42},"h2",{"id":41},"傳統網站架設",[43],{"type":14,"tag":20,"props":44,"children":47},{"className":45},[46,24],"text-lg",[48],{"type":27,"value":41},{"type":14,"tag":35,"props":50,"children":51},{},[],{"type":14,"tag":53,"props":54,"children":55},"p",{},[56],{"type":27,"value":41},{"type":14,"tag":53,"props":58,"children":59},{},[60],{"type":27,"value":61},"是把網站內容放到一台Server",{"type":14,"tag":53,"props":63,"children":64},{},[65],{"type":27,"value":66},"然後使用者在瀏覽器上點選網址後",{"type":14,"tag":53,"props":68,"children":69},{},[70],{"type":27,"value":71},"會連到DNS把網址轉換成該網站的IP位置",{"type":14,"tag":53,"props":73,"children":74},{},[75,77],{"type":27,"value":76},"然後再由瀏覽器直接連線到那台Server取得網站內容資料\n",{"type":14,"tag":35,"props":78,"children":79},{},[],{"type":14,"tag":53,"props":81,"children":82},{},[83,89],{"type":14,"tag":84,"props":85,"children":88},"img",{"alt":86,"src":87},"傳統網站運作流程","https://cdn.lucas-chen.website/2024/08/26/01.png",[],{"type":14,"tag":35,"props":90,"children":91},{},[],{"type":14,"tag":53,"props":93,"children":94},{},[95],{"type":27,"value":96},"那這個方式會有以下缺點",{"type":14,"tag":98,"props":99,"children":100},"ul",{},[101,107],{"type":14,"tag":102,"props":103,"children":104},"li",{},[105],{"type":27,"value":106},"離Server 越遠 速度會越慢 (特別是全球性網站)",{"type":14,"tag":102,"props":108,"children":109},{},[110],{"type":27,"value":111},"Server 穩定性比較差 (流量大，同時連線同一台Server，讓Server當機的機會變大)",{"type":14,"tag":39,"props":113,"children":115},{"id":114},"cdn介紹",[116],{"type":14,"tag":20,"props":117,"children":119},{"className":118},[46,24],[120],{"type":27,"value":121},"CDN介紹",{"type":14,"tag":35,"props":123,"children":124},{},[],{"type":14,"tag":53,"props":126,"children":127},{},[128],{"type":27,"value":129},"所以就衍生出了CDN",{"type":14,"tag":53,"props":131,"children":132},{},[133],{"type":27,"value":134},"CDN 全名 內容傳遞網路 – Content Delivery Network",{"type":14,"tag":53,"props":136,"children":137},{},[138],{"type":27,"value":139},"可以將網站內容 部署到不同位置的邊緣節點",{"type":14,"tag":53,"props":141,"children":142},{},[143],{"type":27,"value":144},"不同地區的用戶可以就近存取伺服器並取得內容",{"type":14,"tag":53,"props":146,"children":147},{},[148],{"type":27,"value":149},"會有以下優點",{"type":14,"tag":98,"props":151,"children":152},{},[153,158,163,168],{"type":14,"tag":102,"props":154,"children":155},{},[156],{"type":27,"value":157},"實現加快載入速度 (物理上的距離降低)",{"type":14,"tag":102,"props":159,"children":160},{},[161],{"type":27,"value":162},"降低主機負擔 (都存取最近的CDN server，原本的Server 負載降低)",{"type":14,"tag":102,"props":164,"children":165},{},[166],{"type":27,"value":167},"可靠性提升 (多台cdn server就可以降低當機導致網站無法使用的風險)",{"type":14,"tag":102,"props":169,"children":170},{},[171],{"type":27,"value":172},"提升用戶體驗 (連線速度提升，瀏覽網站速度變快，且不容易網站掛掉)",{"type":14,"tag":53,"props":174,"children":175},{},[176],{"type":27,"value":177},"CDN 運作流程圖：",{"type":14,"tag":35,"props":179,"children":180},{},[],{"type":14,"tag":53,"props":182,"children":183},{},[184,189],{"type":14,"tag":84,"props":185,"children":188},{"alt":186,"src":187},"CDN 網站運作流程","https://cdn.lucas-chen.website/2024/08/26/02.png",[],{"type":14,"tag":35,"props":190,"children":191},{},[],{"type":14,"tag":53,"props":193,"children":194},{},[195],{"type":27,"value":196},"將網站內容放到 主要存放資料的Server",{"type":14,"tag":53,"props":198,"children":199},{},[200],{"type":27,"value":201},"並設定完CDN後",{"type":14,"tag":53,"props":203,"children":204},{},[205],{"type":27,"value":206},"使用者連線到這個網站",{"type":14,"tag":53,"props":208,"children":209},{},[210],{"type":27,"value":211},"會先連到DNS",{"type":14,"tag":53,"props":213,"children":214},{},[215],{"type":27,"value":216},"DNS 再轉派發到 CDN DNS",{"type":14,"tag":53,"props":218,"children":219},{},[220],{"type":27,"value":221},"CDN DNS再根據使用者的位置不同",{"type":14,"tag":53,"props":223,"children":224},{},[225],{"type":27,"value":226},"回傳最靠近使用者的 CDN 邊緣伺服器 IP",{"type":14,"tag":53,"props":228,"children":229},{},[230],{"type":27,"value":231},"然後使用者在連線到最靠近使用者的 CDN 邊緣伺服器 取得網站資料",{"type":14,"tag":53,"props":233,"children":234},{},[235],{"type":27,"value":236},"CDN 簡易組成如下",{"type":14,"tag":98,"props":238,"children":239},{},[240,245,250,255],{"type":14,"tag":102,"props":241,"children":242},{},[243],{"type":27,"value":244},"主要存放資料的Server (Origin Server)",{"type":14,"tag":102,"props":246,"children":247},{},[248],{"type":27,"value":249},"DNS",{"type":14,"tag":102,"props":251,"children":252},{},[253],{"type":27,"value":254},"CDN DNS",{"type":14,"tag":102,"props":256,"children":257},{},[258],{"type":27,"value":259},"CDN 邊緣伺服器 (存放在不同國家地區的CDN Server)",{"type":14,"tag":35,"props":261,"children":262},{},[],{"type":14,"tag":53,"props":264,"children":265},{},[266],{"type":14,"tag":84,"props":267,"children":270},{"alt":268,"src":269},"CDN 組成","https://cdn.lucas-chen.website/2024/08/26/03.png",[],{"type":14,"tag":35,"props":272,"children":273},{},[],{"type":14,"tag":39,"props":275,"children":277},{"id":276},"實戰演練",[278],{"type":14,"tag":20,"props":279,"children":281},{"className":280},[46,24],[282],{"type":27,"value":276},{"type":14,"tag":53,"props":284,"children":285},{},[286],{"type":27,"value":287},"我先將測試網站放了一堆GIF 檔案比較大的圖片",{"type":14,"tag":53,"props":289,"children":290},{},[291],{"type":27,"value":292},"並且放到距離台灣很遠的地方",{"type":14,"tag":53,"props":294,"children":295},{},[296],{"type":27,"value":297},"然後看他第一次載入網站的速度",{"type":14,"tag":35,"props":299,"children":300},{},[],{"type":14,"tag":53,"props":302,"children":303},{},[304,309],{"type":14,"tag":84,"props":305,"children":308},{"alt":306,"src":307},"CDN 實戰演練1","https://cdn.lucas-chen.website/2024/08/26/04.png",[],{"type":14,"tag":35,"props":310,"children":311},{},[],{"type":14,"tag":53,"props":313,"children":314},{},[315,320],{"type":14,"tag":84,"props":316,"children":319},{"alt":317,"src":318},"CDN 實戰演練2","https://cdn.lucas-chen.website/2024/08/26/05.png",[],{"type":14,"tag":35,"props":321,"children":322},{},[],{"type":14,"tag":53,"props":324,"children":325},{},[326,331],{"type":14,"tag":84,"props":327,"children":330},{"alt":328,"src":329},"CDN 實戰演練3","https://cdn.lucas-chen.website/2024/08/26/06.png",[],{"type":14,"tag":35,"props":332,"children":333},{},[],{"type":14,"tag":53,"props":335,"children":336},{},[337],{"type":27,"value":338},"發現到載入圖片的速度將近3秒",{"type":14,"tag":53,"props":340,"children":341},{},[342],{"type":27,"value":343},"然後開始串上CDN",{"type":14,"tag":53,"props":345,"children":346},{},[347],{"type":27,"value":348},"我使用 Cloudflare 這個CDN服務商，他有免費方案讓我使用",{"type":14,"tag":35,"props":350,"children":351},{},[],{"type":14,"tag":53,"props":353,"children":354},{},[355,360],{"type":14,"tag":84,"props":356,"children":359},{"alt":357,"src":358},"CDN 實戰演練4","https://cdn.lucas-chen.website/2024/08/26/07.png",[],{"type":14,"tag":35,"props":361,"children":362},{},[],{"type":14,"tag":53,"props":364,"children":365},{},[366,371],{"type":14,"tag":84,"props":367,"children":370},{"alt":368,"src":369},"CDN 實戰演練5","https://cdn.lucas-chen.website/2024/08/26/08.png",[],{"type":14,"tag":35,"props":372,"children":373},{},[],{"type":14,"tag":53,"props":375,"children":376},{},[377,382],{"type":14,"tag":84,"props":378,"children":381},{"alt":379,"src":380},"CDN 實戰演練6","https://cdn.lucas-chen.website/2024/08/26/09.png",[],{"type":14,"tag":35,"props":383,"children":384},{},[],{"type":14,"tag":53,"props":386,"children":387},{},[388,393],{"type":14,"tag":84,"props":389,"children":392},{"alt":390,"src":391},"CDN 實戰演練7","https://cdn.lucas-chen.website/2024/08/26/10.png",[],{"type":14,"tag":35,"props":394,"children":395},{},[],{"type":14,"tag":53,"props":397,"children":398},{},[399],{"type":27,"value":400},"選完後，會有兩個 主要的 CDN DNS 需要設定在你的域名代理商",{"type":14,"tag":53,"props":402,"children":403},{},[404],{"type":27,"value":405},"我是在Gandi購買的網域",{"type":14,"tag":53,"props":407,"children":408},{},[409,411],{"type":27,"value":410},"所以我要去Gandi 設定網域 名稱伺服器\n",{"type":14,"tag":35,"props":412,"children":413},{},[],{"type":14,"tag":53,"props":415,"children":416},{},[417,422],{"type":14,"tag":84,"props":418,"children":421},{"alt":419,"src":420},"CDN 實戰演練8","https://cdn.lucas-chen.website/2024/08/26/11.png",[],{"type":14,"tag":35,"props":423,"children":424},{},[],{"type":14,"tag":53,"props":426,"children":427},{},[428,433],{"type":14,"tag":84,"props":429,"children":432},{"alt":430,"src":431},"CDN 實戰演練9","https://cdn.lucas-chen.website/2024/08/26/12.png",[],{"type":14,"tag":35,"props":434,"children":435},{},[],{"type":14,"tag":53,"props":437,"children":438},{},[439,444],{"type":14,"tag":84,"props":440,"children":443},{"alt":441,"src":442},"CDN 實戰演練10","https://cdn.lucas-chen.website/2024/08/26/13.png",[],{"type":14,"tag":35,"props":445,"children":446},{},[],{"type":14,"tag":53,"props":448,"children":449},{},[450],{"type":27,"value":451},"設定完後就是這樣",{"type":14,"tag":53,"props":453,"children":454},{},[455],{"type":27,"value":456},"掛載CDN 服務器後",{"type":14,"tag":53,"props":458,"children":459},{},[460],{"type":27,"value":461},"就可以看看有了CDN 速度會變多快",{"type":14,"tag":35,"props":463,"children":464},{},[],{"type":14,"tag":53,"props":466,"children":467},{},[468,473],{"type":14,"tag":84,"props":469,"children":472},{"alt":470,"src":471},"CDN 實戰演練11","https://cdn.lucas-chen.website/2024/08/26/14.png",[],{"type":14,"tag":35,"props":474,"children":475},{},[],{"type":14,"tag":53,"props":477,"children":478},{},[479],{"type":27,"value":480},"相較於沒掛載CDN 服務之前 每張圖需要快3秒",{"type":14,"tag":53,"props":482,"children":483},{},[484],{"type":27,"value":485},"掛載後，讀取網站 每張圖片不到 200毫秒",{"type":14,"tag":53,"props":487,"children":488},{},[489],{"type":27,"value":490},"速度上快很多",{"type":14,"tag":53,"props":492,"children":493},{},[494],{"type":27,"value":495},"那我要怎麼確認網站有串上CDN呢",{"type":14,"tag":53,"props":497,"children":498},{},[499],{"type":27,"value":500},"可以直接在網址後面加上 cdn-cgi/trace",{"type":14,"tag":53,"props":502,"children":503},{},[504],{"type":27,"value":505},"可以看到colo=KHH 代表者是連到高雄的cdn edge server",{"type":14,"tag":53,"props":507,"children":508},{},[509],{"type":27,"value":510},"台北 連高雄 速度上就真的可以加快很多呢！",{"type":14,"tag":53,"props":512,"children":513},{},[514,519],{"type":14,"tag":84,"props":515,"children":518},{"alt":516,"src":517},"CDN 實戰演練12","https://cdn.lucas-chen.website/2024/08/26/15.png",[],{"type":14,"tag":35,"props":520,"children":521},{},[],{"type":14,"tag":53,"props":523,"children":524},{},[525],{"type":27,"value":526},"不只網站可以用CDN 加快",{"type":14,"tag":53,"props":528,"children":529},{},[530],{"type":27,"value":531},"還有影片串流 跟  軟體安裝檔案  或是 遊戲的圖片影片加速",{"type":14,"tag":53,"props":533,"children":534},{},[535],{"type":27,"value":536},"都是使用CDN 來讓速度提升，使用者體驗變好的應用",{"type":14,"tag":53,"props":538,"children":539},{},[540],{"type":27,"value":541},"如果有什麼不足的部分，歡迎補充喔",{"type":14,"tag":53,"props":543,"children":544},{},[545],{"type":27,"value":546},"謝謝大家！",{"title":7,"searchDepth":548,"depth":548,"links":549},2,[550,551,552],{"id":41,"depth":548,"text":41},{"id":114,"depth":548,"text":121},{"id":276,"depth":548,"text":276},"markdown","content:tech-dev:2024:08:26:cdn-content-delivery-network.md","content","tech-dev/2024/08/26/cdn-content-delivery-network.md","tech-dev/2024/08/26/cdn-content-delivery-network","md",1724990554240]